// SPDX-License-Identifier: AGPL-3.0-or-later
= Error-Lang
:toc:
:source-highlighter: rouge

**A teaching language where code breaks intentionally — your first task is to make it build.**

== What is Error-Lang?

Error-Lang is a programming language designed for teaching how compilers and
interpreters work. Unlike normal languages that try to minimize errors,
Error-Lang *intentionally injects errors* into designated "gutter" blocks.

Every run produces at least one syntax error, but students can always make
progress because the system is designed for recovery and diagnosis.

== Why?

* **Learning by breaking**: Understanding errors teaches you how languages work
* **Safe failure**: Errors are contained in "gutter" blocks
* **Gamified**: Stability score decreases with each error (Jenga semantics!)
* **Curriculum-ready**: Each error code maps to a lesson

== Quick Start

[source,bash]
----
# Install (requires Deno)
git clone https://github.com/hyperpolymath/error-lang
cd error-lang

# Run a program
deno task run examples/hello.err

# Explain an error
deno task explain E0002

# Check your setup
deno task doctor
----

== Example Program

[source]
----
# hello.err
main
    println("Hello, Error-Lang!")

    gutter
        # Something WILL break here on some runs
        let broken = "unterminated
        let weird = @#$%
    end

    println("But I still run!")
end
----

Output:
----
[Run #1, Seed: 12345, Stability: 100]

Error-LangError: hello.err:7:23: [INJECTED] Unterminated string [code=E0002 run=1]
  → Lesson: String literal rules
  → Fix: Add a closing quote (") to the end of your string.

Hello, Error-Lang!
But I still run!

[Stability: 95/100]
----

== Features

=== Turing Complete (Most of the Time)

Error-Lang is a real programming language with:

* Functions and recursion
* Control flow (if/elseif/else, while, for)
* First-class lambdas
* Arrays and data structures
* Full arithmetic and boolean logic

=== Jenga Semantics

The *Stability Score* starts at 100 and decreases with each injected error.
At low stability, the output becomes "wobbly" but still correct:

* Debug output may reorder
* Whitespace in pretty-printing gets chaotic
* But semantics remain deterministic!

=== Deterministic Mode

For teaching, use `--seed` for reproducible errors:

[source,bash]
----
error-lang run hello.err --seed 42
error-lang run hello.err --seed 42  # Same error every time
----

== Error Codes

[cols="1,2,2"]
|===
| Code | Name | Lesson

| E0001 | Unexpected token | Parser expectations
| E0002 | Unterminated string | String literal rules
| E0003 | Invalid escape | Escape processing
| E0004 | Illegal character | Character sets
| E0005 | Missing 'end' | Block structure
| E0006 | Unmatched paren | Expression nesting
| E0007 | Smart quote | Encoding awareness
| E0008 | Bad identifier | Naming conventions
| E0009 | Reserved keyword | Language design
| E0010 | Whitespace issue | Indentation rules
|===

Use `error-lang explain E0002` for detailed explanations.

== Documentation

* link:docs/Error-Lang.adoc[Language Specification]
* link:docs/Grammar.ebnf[EBNF Grammar]
* link:docs/Curriculum.adoc[Teaching Curriculum]

== Technology Stack

* **Compiler**: ReScript (compiles to JavaScript)
* **CLI**: Deno
* **Docs**: AsciiDoc

No TypeScript. No Node.js. No npm. (Per https://github.com/hyperpolymath/rhodium-standard-repositories[RSR])

== Contributing

See link:CONTRIBUTING.adoc[CONTRIBUTING.adoc] for guidelines.

== License

AGPL-3.0-or-later

== See Also

* https://hyperpolymath.github.io/rhodium-standard-repositories[Rhodium Standard Repositories]
* https://github.com/hyperpolymath/standards[Hyperpolymath Standards]
